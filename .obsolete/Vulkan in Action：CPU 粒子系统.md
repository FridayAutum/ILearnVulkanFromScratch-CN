# Vulkan in Action：CPU 粒子系统

在这一章中我们将实现一个简单的粒子系统来模拟篝火的火焰和烟雾。

一般情况下，粒子系统由两方面构成：粒子发射器和粒子本身。粒子发射器（Particle Emitter）负责粒子的生成和销毁（或回收）并根据阈值控制粒子的总数量，并且设置粒子的初始属性。粒子本身其实就是很多点（该案例中用的就是有大小的点）或者面向摄像机的 quad，这些 quad 的半透明纹理为火焰或者烟雾，其纹理透明度（又称生存周期 lifespan，即 Fragment Shader 输出的颜色 alpha 值），运动速度，旋转角度等属性会随着时间的变化而变化来模拟火焰的行为。当然，一套完整的粒子系统能实现的粒子属性功能比该案例要多得多，甚至可以模拟粒子之间和粒子与障碍物的物理碰撞。

粒子属性的模拟在 CPU 端进行运算，直接把位置信息等参数传给粒子对象 shader 的粒子系统可以被成为 CPU 粒子系统；使用 Compute Shader 进行运算的粒子系统则被成为 GPU 粒子系统，借助于 GPU 强大的并行能力，GPU 粒子系统能够在降低 CPU 使用量的同时实现更加复杂的粒子特效。
