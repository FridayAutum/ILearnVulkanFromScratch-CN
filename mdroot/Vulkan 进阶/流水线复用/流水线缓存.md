# Pipeline Cache

// todo

> 这个概念即对应着各个游戏引擎 / API 抽象层的 PSO (Pipeline State Object) 概念。由于第一次在目标平台执行程序时编译 Shader 等耗时操作几乎不可避免，因此在程序加载时预先编译好流水线，之后启动程序直接用（平台相关的）缓存即可。
>
> 我们可以在程序/游戏的测试期间在场景中闲逛，并且监听创建流水线的操作并记录下来其对应的材质，之后汇总成一张列表。下一次在新的设备开程序/游戏时，直接在加载界面把这张列表中提到的流水线预编译并缓存好，尽可能避免运行时的卡顿。例如 Unreal Engine 4 中的[PSO缓存机制](https://docs.unrealengine.com/4.27/zh-CN/SharingAndReleasing/PSOCaching/)。
>
> DX12，Vulkan 和 Metal 都提供了原生的 PSO 支持，OpenGL 只能做到缓存 GLSL 的字节码到本地。
